{% extends "base.html" %}

{% block content %}
  <h2>Raport wydatków</h2>
  
    <form method="GET" action="{{ url_for('report') }}" class="row g-3 mb-3">
    <div class="col-auto">
      <label for="start_date" class="form-label">Od:</label>
      <input type="date" id="start_date" name="start_date" class="form-control"
             value="{{ start_date or '' }}">
    </div>
    <div class="col-auto">
      <label for="end_date" class="form-label">Do:</label>
      <input type="date" id="end_date" name="end_date" class="form-control"
             value="{{ end_date or '' }}">
    </div>
    <div class="col-auto align-self-end">
      <button type="submit" class="btn btn-primary">Filtruj</button>
      <a href="{{ url_for('report') }}" class="btn btn-secondary">Pokaż wszystko</a>
    </div>
  </form>
  
  {% if plot_div %}
    <div>
      <h3>Wykres wydatków</h3>
      {{ plot_div|safe }}
    </div>
  {% else %}
    <p>Brak danych do wyświetlenia.</p>
  {% endif %}
  
  <a class="btn btn-secondary mt-3" href="{{ url_for('index') }}">Powrót do strony głównej</a>
{% endblock %}